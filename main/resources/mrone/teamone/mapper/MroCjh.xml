<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="mrone.teamone.mapper.MroCjh">

	<insert id="insMroRequestOrder">
		INSERT INTO RE VALUES(TO_CHAR(SYSDATE,'YYMMDD')||SEQ_MRO_REQUESTNUMBER.NEXTVAL,
		#{re_clcode},#{re_spcode},#{re_oscode},TO_DATE(#{re_date},'YYYYMMDDHH24miss'),#{re_state})
	</insert>

	<insert id="insMroRequestOrderDetail">
		INSERT INTO RD VALUES(#{rd_prspcode},#{rd_recode},#{pr_code},#{rd_quantity},#{rd_stcode},#{rd_note})
	</insert>

	<select id="getRequestOrderData">
		SELECT RE_CODE FROM RE WHERE RE_CLCODE = #{re_clcode} and RE_DATE = TO_DATE(#{re_date},'YYYYMMDDHH24miss')
	</select>

</mapper>