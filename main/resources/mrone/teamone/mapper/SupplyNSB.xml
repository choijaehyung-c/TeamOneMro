<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="mrone.teamone.mapper.SupplyNSB">
    

    <select id="getSupplyWaitOrderList" parameterType="String" resultType="mrone.teamone.beans.RequestOrderBean">
	SELECT 
	RE_CODE,
	RE_CLCODE,
	RE_SPCODE,
	RE_DATE,
	RE_STATE
	FROM RE WHERE RE_STATE = 'W'AND RE_SPCODE = #{sp}
    </select>
    
    <select id="getSupplyWaitOrderListD" parameterType="mrone.teamone.beans.RequestOrderBean" resultType="mrone.teamone.beans.RequestOrderDetailBean">
	SELECT 
	RD_PRSPCODE, 
	RD_RECODE, 
	RD_PRCODE, 
	RD_QUANTITY, 
	RD_STCODE 
	FROM RD WHERE RD_RECODE = #{re_code}
    </select>
    
    <select id="updateRequestOrderState" parameterType="mrone.teamone.beans.RequestOrderDetailBean" resultType="mrone.teamone.beans.RequestOrderBean">
	UPDATE REQUEST SET RE_STATE = 'S' WHERE RE_CODE = #{rd_recode}
    </select>
    
    <select id="updateRequestOrderState2" parameterType="mrone.teamone.beans.RequestOrderDetailBean" resultType="mrone.teamone.beans.RequestOrderBean">
	UPDATE REQUESTDETAIL SET RD_STCODE = 'S' WHERE RD_RECODE = #{rd_recode}
    </select>
    
</mapper>

