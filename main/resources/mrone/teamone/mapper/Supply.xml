<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="mrone.teamone.mapper.Supply">

	<update id="updRequest" parameterType="mrone.teamone.beans.SupplyResponse">
		UPDATE RE SET RE_STATE = #{after} WHERE RE_CODE = #{re_code} AND RE_STATE = #{before}
	</update>
	
	<update id="updRequestDetail" parameterType="mrone.teamone.beans.SupplyResponse">
		UPDATE RD SET RD_STCODE = #{after} WHERE RD_RECODE = #{re_code} AND RD_STCODE = #{before}
	</update>
	
	<update id="updOrder" parameterType="mrone.teamone.beans.SupplyResponse">
		UPDATE OS SET OS_STATE = #{after} WHERE OS_CODE = #{os_code} AND OS_STATE = #{before}
	</update>
	
	<update id="updOrderDetail" parameterType="mrone.teamone.beans.SupplyResponse">
		UPDATE OD SET OD_STCODE = #{after} WHERE OD_OSCODE = #{os_code} AND OD_STCODE = #{before}
	</update>

	<select id="getInvolvedOscode" parameterType="mrone.teamone.beans.SupplyResponse" resultType="string">
		SELECT RE_OSCODE FROM RE WHERE RE_CODE = #{re_code} AND RE_STATE = #{before}
	</select>
	<!-- 수정1 -->
	<update id="updReasonRD" parameterType="mrone.teamone.beans.RequestOrderDetailBean">
		UPDATE RD SET RD_NOTE = #{rd_note} WHERE RD_RECODE = #{rd_recode} AND RD_STCODE = #{rd_stcode}
	</update>
	<!-- 수정1 -->
	<update id="updReasonOD" parameterType="mrone.teamone.beans.RequestOrderDetailBean">
		UPDATE OD SET OD_NOTE = #{rd_note} WHERE OD_OSCODE = #{rd_recode} AND OD_STCODE = #{rd_stcode} 
	</update>
	
	<select id="getOSOriginCode" parameterType="string" resultType="string">
		SELECT OS_ORIGIN FROM OS WHERE OS_CODE = #{os_code}
	</select>
	
	<select id="getNewODForRefund" parameterType="string" resultType="mrone.teamone.beans.OrderDetailBean">
		SELECT OD_PRSPCODE,OD_STCODE,OD_PRCODE,OD_QUANTITY FROM OD WHERE OD_OSCODE = #{re_code} AND OD_STCODE = 'OA'
	</select>
	
	<select id="getNewRDForRefund" parameterType="string" resultType="mrone.teamone.beans.RequestOrderDetailBean">
		SELECT RD_PRSPCODE,RD_STCODE,RD_PRCODE,RD_QUANTITY FROM RD WHERE RD_RECODE = #{os_code} AND RD_STCODE = 'OA'
	</select>

	<select id="getCLForRefund" parameterType="string" resultType="string">
		SELECT RE_CLCODE FROM RE WHERE RE_CODE = #{re_code} AND RE_STATE = 'FF'
	</select>

	<select id="getDriver" resultType="string">
		SELECT DV_CODE FROM (SELECT DV_CODE FROM DV ORDER BY DBMS_RANDOM.VALUE) WHERE ROWNUM = 1
	</select>

	<select id="getRecentlyLC" parameterType="string" resultType="string">
		SELECT LC_CODE FROM (SELECT * FROM LC ORDER BY LC_DATE DESC) WHERE DL_OSCODE = #{os_code} AND ROWNUM = 1
	</select>
	
	<insert id="insertFirstLC" parameterType="string">
		INSERT INTO LC VALUES(TO_CHAR(SYSDATE,'YYMMDD')||SEQ_LOCATION_NUM.NEXTVAL,'0','0',SYSDATE,#{os_code})
	</insert>
	
	<insert id="insertFirstDL" parameterType="mrone.teamone.beans.DeliveryInsert">
		INSERT INTO DL VALUES(TO_CHAR(SYSDATE,'YYMMDD')||SEQ_DELIVERY_NUM.NEXTVAL,#{os_code},'1',#{dv_code},#{lc_code})
	</insert>

<!--	
<insert id="insClientOrder" parameterType="mrone.teamone.beans.ClientOrderBean">
		INSERT INTO OS VALUES(TO_CHAR(SYSDATE,'YYMMDD')||SEQ_CLIENT_ORDERNUMBER.NEXTVAL,#{os_clcode},TO_DATE(#{os_date},'YYYYMMDDHH24miss'),#{os_state})
	</insert>
	
	<insert id="insClientOrderDetail" parameterType="mrone.teamone.beans.ClientOrderBean">
		INSERT INTO OD VALUES(#{od_prspcode},#{od_oscode},#{od_stcode},#{od_prcode},#{od_quantity})
	</insert>
	
	<select id="getOrderData" parameterType="mrone.teamone.beans.ClientOrderBean" resultType="string">
		SELECT OS_CODE FROM OS WHERE OS_CLCODE = #{os_clcode} and os_date = TO_DATE(#{os_date},'YYYYMMDDHH24miss')
	</select> -->


















	<select id="getSupplyDealList" resultType="mrone.teamone.beans.RequestOrderBean" parameterType="string">
		SELECT * FROM RE WHERE RE_SPCODE = #{re_spcode} AND RE_STATE = 'OC'
	</select>
	
	<select id="getSupplyDealDetail" resultType="mrone.teamone.beans.RequestOrderDetailBean" parameterType="string">
		SELECT RD_PRSPCODE,RD_RECODE,RD_QUANTITY,PR_CODE,PR_NAME,PR_PRICE,PR_TAX 
		FROM RD INNER JOIN PR ON RD.RD_PRCODE = PR.PR_CODE WHERE RD.RD_RECODE = #{re_code} AND RD.RD_STCODE = 'OC';
	</select>
	
	<select id="getSearchSupplyDeal" resultType="mrone.teamone.beans.SupplySearchBean" parameterType="string">
		SELECT CL_CODE,CL_NAME,CL_ADDRESS,CL_CORPNUM,CL_HP,RE_CODE,RE_DATE FROM RE 
		INNER JOIN "CL" ON RE.RE_CLCODE = "CL".CL_CODE 
		WHERE CL_CODE||CL_NAME||CL_ADDRESS||CL_CORPNUM||CL_HP||RE_CODE||RE_DATE LIKE '%' || #{word} || '%'	
	</select>
	
	<select id="getSupplyCateProductList" parameterType="mrone.teamone.beans.ProductBean" resultType="mrone.teamone.beans.ProductBean">
		SELECT PR_NAME,PR_CODE,PR_PRICE,PR_STOCK FROM PR WHERE PR_SPCODE = #{pr_spcode} AND CATE = #{cate} AND PR_STCODE = 'PC'
	</select>
	
	<select id="supplyGetProductDetail" resultType="mrone.teamone.beans.ProductBean" parameterType="mrone.teamone.beans.ProductBean">
    	SELECT * FROM PR WHERE PR_CODE = #{pr_code} AND PR_STCODE = 'PC'
    </select>
    
    <update id="supplyModifyStock" parameterType="mrone.teamone.beans.ProductBean">
    	UPDATE PR SET PR_STOCK = #{pr_stock} WHERE PR_CODE = #{pr_code} AND PR_STCODE ='PC'
    </update>
    
    <insert id= "supplyRequestModify" parameterType="mrone.teamone.beans.ProductBean">
    	INSERT INTO PR(PR_SPCODE, PR_CODE, PR_STOCK, PR_NAME, PR_IMAGE, PR_PRICE, PR_TAX, PR_INFO,
    				   PR_ORIGIN, PR_SPBKIND, PR_STCODE, CATE, CATE_NAME)
    	  VALUES (#{pr_spcode}, #{pr_code}, #{pr_stock}, #{pr_name}, #{pr_image}, #{pr_price}, #{pr_tax}, #{pr_info},
    	  		  #{pr_origin}, #{pr_spbkind}, #{pr_stcode}, #{cate}, #{cate_name})
    </insert>
    
    <insert id= "supplyRequestDelete" parameterType="mrone.teamone.beans.ProductBean" >
    	INSERT INTO PR(PR_SPCODE, PR_CODE, PR_STOCK, PR_NAME, PR_IMAGE, PR_PRICE, PR_TAX, PR_INFO, PR_ORIGIN, PR_SPBKIND, PR_STCODE, CATE, CATE_NAME)
    	  VALUES (#{pr_spcode}, #{pr_code}, #{pr_stock}, #{pr_name}, #{pr_image}, #{pr_price}, #{pr_tax}, #{pr_info}, #{pr_origin}, #{pr_spbkind}, #{pr_stcode}, #{cate}, #{cate_name})
    </insert>
    
     <select id="MRCheck" parameterType="mrone.teamone.beans.ProductBean" resultType="int">
    	SELECT COUNT(*) FROM PR WHERE PR_CODE = #{pr_code} AND PR_STCODE = #{pr_stcode}
    </select>
    
    <update id="updateSupplyRequestModify" parameterType="mrone.teamone.beans.ProductBean">
    	UPDATE PR SET PR_STOCK = #{pr_stock}, PR_NAME = #{pr_name}, PR_PRICE = #{pr_price}, PR_INFO = #{pr_info}, PR_ORIGIN = #{pr_origin} WHERE PR_CODE = #{pr_code} AND PR_STCODE = #{pr_stcode}
    </update>
    
    <select id="getCate" resultType="mrone.teamone.beans.CGBean">
    	SELECT * FROM CG
    </select>
    
    <insert id = "supplyRequestNewProduct" parameterType="mrone.teamone.beans.ProductBean">
    	INSERT INTO PR(PR_SPCODE, PR_CODE, PR_STOCK, PR_NAME, PR_IMAGE, PR_PRICE, PR_TAX, PR_INFO, PR_ORIGIN, PR_SPBKIND, PR_STCODE, CATE, CATE_NAME)
    	  VALUES (#{pr_spcode}, #{pr_code}, #{pr_stock}, #{pr_name}, #{pr_image}, #{pr_price}, #{pr_tax}, #{pr_info}, #{pr_origin}, #{pr_spbkind}, #{pr_stcode}, #{cate}, #{cate_name})
    </insert>
    

    <select id="getSupplyWaitOrderList" parameterType="string" resultType="mrone.teamone.beans.RequestOrderBean">
SELECT 
	RE_CODE,
	RE_CLCODE,
	RE_SPCODE,
	RE_DATE,
	RE_STATE,
    CL.CL_NAME,
    CL.CL_HP
	FROM RE INNER JOIN CL ON RE_CLCODE=CL.CL_CODE 
    WHERE RE_STATE = 'OR'AND RE_SPCODE = #{spcode}
    </select>
    
    <!-- 수정 -->
    <select id="getSupplyClearOrderList" parameterType="string" resultType="mrone.teamone.beans.RequestOrderBean">
	SELECT 
	RE_CODE,
	RE_CLCODE,
	RE_SPCODE,
	RE_DATE,
	RE_STATE,
    CL.CL_NAME,
    CL.CL_HP
	FROM RE INNER JOIN CL ON RE_CLCODE=CL.CL_CODE 
    WHERE RE_STATE = 'OA'AND RE_SPCODE = #{spcode}
    </select>
    
 
    <select id="getSupplyWaitOrderListD" parameterType="string" resultType="mrone.teamone.beans.RequestOrderDetailBean">
	SELECT 
	RD_PRSPCODE, 
	RD_RECODE, 
	RD_PRCODE, 
	RD_QUANTITY, 
	RD_STCODE,
    PR_IMAGE,
    PR_PRICE,
    PR_TAX,
    SUM(PR_PRICE+PR_TAX)*RD_QUANTITY AS "PR_TTPRICE",
    PR_NAME
	FROM RD INNER JOIN PR ON RD.RD_PRCODE = PR.PR_CODE WHERE RD_RECODE = #{recode}
    GROUP BY RD_PRSPCODE, RD_RECODE, RD_PRCODE, RD_QUANTITY, RD_STCODE, PR_TAX, PR_NAME, PR_PRICE, PR_IMAGE
	    </select>
    
   
    <select id="getSupplyClearOrderListD" parameterType="string" resultType="mrone.teamone.beans.RequestOrderDetailBean">
	SELECT 
	RD_PRSPCODE, 
	RD_RECODE, 
	RD_PRCODE, 
	RD_QUANTITY, 
	RD_STCODE,
    PR_IMAGE,
    PR_PRICE,
    PR_TAX,
    SUM(PR_PRICE+PR_TAX)*RD_QUANTITY AS "PR_TTPRICE",
    PR_NAME
	FROM RD INNER JOIN PR ON RD.RD_PRCODE = PR.PR_CODE WHERE RD_RECODE = #{recode}
    GROUP BY RD_PRSPCODE, RD_RECODE, RD_PRCODE, RD_QUANTITY, RD_STCODE, PR_TAX, PR_NAME, PR_PRICE, PR_IMAGE
    </select>
    
    <!-- 수정 -->
    <select id="getRefuseOrderList" parameterType="string" resultType="mrone.teamone.beans.RequestOrderBean">
    SELECT 
		RE_CODE,
		RE_CLCODE,
		RE_SPCODE,
		RE_DATE,
		RE_STATE,
    	CL.CL_NAME,
    	CL.CL_HP
		FROM RE INNER JOIN CL ON RE_CLCODE=CL.CL_CODE 
    WHERE RE_STATE = 'OF' AND RE_SPCODE = #{spcode}
    </select>
    
    <!-- 수정 -->
    
    <select id="getSupplyRefuseOrderListD" parameterType="string" resultType="mrone.teamone.beans.RequestOrderDetailBean">
    SELECT 
	RD_PRSPCODE, 
	RD_RECODE, 
	RD_PRCODE, 
	RD_QUANTITY, 
	RD_STCODE,
    PR_IMAGE,
    PR_PRICE,
    PR_TAX,
    SUM(PR_PRICE+PR_TAX)*RD_QUANTITY AS "PR_TTPRICE",
    PR_NAME,
    RD_NOTE
	FROM RD INNER JOIN PR ON RD.RD_PRCODE = PR.PR_CODE WHERE RD_RECODE = #{recode}
    GROUP BY RD_PRSPCODE, RD_RECODE, RD_PRCODE, RD_QUANTITY, RD_STCODE, PR_TAX, PR_NAME, PR_PRICE, PR_IMAGE, RD_NOTE
    </select>
    
<!--     <select id="updateRequestOrderState" parameterType="mrone.teamone.beans.RequestOrderDetailBean" resultType="mrone.teamone.beans.RequestOrderBean">
	UPDATE REQUEST SET RE_STATE = 'OA' WHERE RE_CODE = #{rd_recode}
    </select>
    
    <select id="updateRequestOrderState2" parameterType="mrone.teamone.beans.RequestOrderDetailBean" resultType="mrone.teamone.beans.RequestOrderBean">
	UPDATE REQUESTDETAIL SET RD_STCODE = 'OA' WHERE RD_RECODE = #{rd_recode}
    </select> -->
    
<!--     <insert id="insertDL" parameterType="mrone.teamone.beans.RequestOrderDetailBean" >
	INSERT INTO DELIVERY VALUES ('222222222', #{rd_recode}, '1', 'ANY000', '000000000')
    </insert> -->
    
    <select id="getDLlist"  resultType="mrone.teamone.beans.DeliveryBean">
	SELECT 
	DL_CODE, 
	DL_OSCODE, 
	DS_CODE, 
	DS_NAME, 
	DV_CODE, 
	DV_NAME, 
    DL_LCCODE 
	FROM DL INNER JOIN DS ON DL.DL_DSCODE = DS.DS_CODE INNER JOIN "DV" ON DL.DL_DVCODE = DV.DV_CODE
    </select>
    
    <update id="updateDL" parameterType="mrone.teamone.beans.DeliveryBean">
 		UPDATE DL SET DL_DSCODE = '2', DL_DVCODE = #{dl_dvcode} WHERE DL_CODE = #{dl_code}
    </update>
    
    <select id="getTaxCL"  resultType="mrone.teamone.beans.ClientInfoBean">
	SELECT 
	CL_CODE, 
	CL_NAME, 
	CL_ADDRESS, 
	CL_CORPNUM   
	FROM CL
    </select>
    
    <select id="choiceSPInfo"  resultType="mrone.teamone.beans.SupplyInfoBean">
	SELECT 
	SP_CODE, 
	SP_NAME, 
	SP_ADDRESS, 
	SP_CORPNUM,  
	SP_TEL, 
	SP_BTYPE, 
	SP_BKIND  
	FROM SP WHERE SP_CODE = 'KR001D'
    </select>
    
     <select id="choiceCLInfo"  resultType="mrone.teamone.beans.ClientInfoBean">
	SELECT 
	CL_CODE, 
	CL_NAME, 
	CL_ADDRESS, 
	CL_CORPNUM,  
	CL_HP, 
	CL_BTYPE, 
	CL_BKIND  
	FROM CL WHERE CL_CODE = #{cl_code}
    </select>
    
    <select id="getTaxDill"  resultType="mrone.teamone.beans.RequestOrderBean">
	SELECT 
	RE_CODE, 
	RE_CLCODE, 
	CL_NAME   
	FROM RE INNER JOIN CL ON RE.RE_CLCODE = CL.CL_CODE WHERE RE_SPCODE = 'KR001D'
    </select>
    
    <select id="choiceDillInfo"  resultType="mrone.teamone.beans.RequestOrderDetailBean">
	SELECT 
	PR_NAME, 
	RD_QUANTITY, 
	PR_PRICE, 
	PR_TAX 
	FROM RD INNER JOIN PR ON RD.RD_PRCODE = PR.PR_CODE WHERE RD_PRSPCODE = 'KR001D'AND RD_RECODE = #{rd_recode}
    </select>
    
       
    <!-- 공급사가 본인의 회사에 들어온 반품,교환리스트를 받는 쿼리 -->
    <select id="getReceiveAsListSp" parameterType="mrone.teamone.beans.RequestOrderBean" resultType="mrone.teamone.beans.RequestOrderBean" >		
		SELECT RE_CODE,RE_CLCODE,RE_DATE,CL_NAME,CL_HP,RE_ORIGIN FROM RE INNER JOIN "CL" ON RE.RE_CLCODE = CL.CL_CODE 
		WHERE RE.RE_STATE = #{re_state} AND RE.RE_SPCODE = #{re_spcode}
    </select>
    
    <!-- 상세리스트 -->
    <select id="supplyReceiveAsDetail" parameterType="string" resultType="mrone.teamone.beans.RequestOrderDetailBean">
    	SELECT RD_PRCODE,RD_STCODE,PR_NAME,PR_PRICE,PR_TAX,PR_IMAGE,PR_INFO,PR_ORIGIN,CATE_NAME FROM RD INNER JOIN PR ON RD.RD_PRCODE = PR.PR_CODE WHERE RD.RD_RECODE = #{re_code}
    </select>
    
    <!-- 반품요청->반품처리로 (수락) 업데이트 -->
    <!-- <update id="supplyResponseRefund" parameterType="mrone.teamone.beans.RequestOrderBean">
    	UPDATE OD SET OD_STCODE=#{re_state} WHERE OD_OSCODE=#{re_code} AND OD_STCODE='RR'
    </update> -->
    
    <!-- 반품 OS테이블 RR인거 업데이트ㅡ -->
    <!-- <update id="supplyResponseRefundOS" parameterType="mrone.teamone.beans.RequestOrderBean">
 		UPDATE OS SET OS_STATE = #{re_state} WHERE OS_CODE=#{re_code} AND OS_STATE='RR'
    </update> -->
    
    <!-- 반품 RD테이블 RR인거 업데이트ㅡ -->
    <!-- <update id="supplyResponseRefundRD" parameterType="mrone.teamone.beans.RequestOrderBean">
 		UPDATE RD SET RD_STCODE = #{re_state} WHERE RD_RECODE=#{re_code} AND RD_STCODE='RR'
    </update> -->
    
    <!-- 반품 RE테이블 RR인거 업데이트ㅡ -->
    <!-- <update id="supplyResponseRefundRE" parameterType="mrone.teamone.beans.RequestOrderBean">
 		UPDATE RE SET RE_STATE = #{re_state} WHERE RE_CODE=#{re_code} AND RE_STATE='RR'
    </update> -->
    
    <!-- 쓰는거 -->
   <!--  <select id="selRequest" parameterType="mrone.teamone.beans.RequestOrderBean" resultType="mrone.teamone.beans.MroOrderDetailBean">
    	select od.od_prspcode,
       od.od_oscode,
       od.od_stcode,
       od.od_prcode,
       od.od_quantity,
       od.od_note,
       os.os_clcode
	from od inner join os on od.od_oscode = os.os_code 
	where OD_OSCODE= #{re_code} AND OD_STCODE=#{re_state}
    </select> -->
    
    <!-- 쓰는거 -->
   <!--  <insert id="insNewOrders" parameterType="mrone.teamone.beans.RequestOrderBean">
    	INSERT INTO OS VALUES(TO_CHAR(SYSDATE,'YYMMDD')||SEQ_CLIENT_ORDERNUMBER.NEXTVAL,#{re_clcode},SYSDATE,#{re_state})
    </insert> -->
    
    <!--  쓰는거-->
   <!--  <insert id="insNewOd" parameterType="mrone.teamone.beans.MroOrderDetailBean">
    	INSERT INTO OD VALUES (#{od_prspcode},TO_CHAR(SYSDATE,'YYMMDD')||#{od_oscode},#{od_stcode},#{od_prcode},#{od_quantity},'')
    </insert> -->
    
    <!-- 쓰는거 -->
    <!-- <insert id= "insNewRequest" parameterType="mrone.teamone.beans.RequestOrderBean">
    	INSERT INTO RE VALUES (TO_CHAR(SYSDATE,'YYMMDD')||#{re_oscode},#{re_clcode},#{re_spcode},TO_CHAR(SYSDATE,'YYMMDD')||#{re_oscode},SYSDATE,#{re_state})
    </insert> -->
    
    <!-- 쓰는거 -->
   <!--  <insert id= "insNewRd" parameterType="mrone.teamone.beans.MroOrderDetailBean">
    	INSERT INTO RD VALUES (#{od_prspcode}, TO_CHAR(SYSDATE,'YYMMDD')||#{od_oscode},#{od_prcode},#{od_quantity},#{od_stcode},'')
    </insert> -->
    
    <!-- 교환 OD 테이블 요청 -> 수락 또는 거절 -->
    <!--   <update id="supplyResponseExchangeOD" parameterType="mrone.teamone.beans.RequestOrderBean">
    	UPDATE OD SET OD_STCODE=#{re_state} WHERE OD_OSCODE=#{re_code} AND OD_STCODE='ER'
    </update> -->
    
    <!-- 교환 OS 테이블 요청 -> ER인거 업데이트 -->
     <!--  <update id="supplyResponseExchangeOS" parameterType="mrone.teamone.beans.RequestOrderBean">
   		 UPDATE OS SET OS_STATE = #{re_state} WHERE OS_CODE=#{re_code} AND OS_STATE='ER'
    </update> -->
    
    <!--  <update id="supplyResponseExchageRD" parameterType="mrone.teamone.beans.RequestOrderBean">
 		UPDATE RD SET RD_STCODE = #{re_state} WHERE RD_RECODE=#{re_code} AND RD_STCODE='ER'
    </update> -->
    
    <!-- 
    <update id="supplyResponseExchageRE" parameterType="mrone.teamone.beans.RequestOrderBean">
 		UPDATE RE SET RE_STATE = #{re_state} WHERE RE_CODE=#{re_code} AND RE_STATE='ER'
    </update> -->
 	
	<select id="supplySearchAs" parameterType="mrone.teamone.beans.RequestOrderBean" resultType="mrone.teamone.beans.RequestOrderBean">
		   SELECT * FROM REQUESTVIEW WHERE "WORD" LIKE '%'|| #{word} ||'%' 
	</select>
	
	<!-- <select id="getCount" resultType="int">
		SELECT
		MAX(TO_NUMBER(SUBSTR(OS_CODE,7,5))) FROM OS WHERE SUBSTR(OS_CODE,1,6) =
		TO_CHAR(SYSDATE,'YYMMDD')
	</select> -->
	<!-- 
	<insert id="makeDeliveryLocate">
		INSERT INTO LC VALUES (TO_CHAR(SYSDATE,'YYMMDD')||SEQ_LOCATION_NUM.NEXTVAL,'0','0',SYSDATE)
	</insert>
	 -->
	<!-- <select id="maxLCcode" resultType="string">
		SELECT 
		MAX(TO_NUMBER(SUBSTR(LC_CODE,1,9))) AS lccode FROM LC WHERE SUBSTR(LC_CODE,1,6) =
		TO_CHAR(SYSDATE,'YYMMDD')
	</select> -->
	
	<!-- <insert id="supplyAskDelivery" parameterType="mrone.teamone.beans.DeliveryBean">
		INSERT INTO DL VALUES (TO_CHAR(SYSDATE,'YYMMDD')||SEQ_DELIVERY_NUM.NEXTVAL, #{dl_oscode},#{dl_dscode},#{dl_dvcode},#{dl_lccode})
	</insert> -->
	
	
	<select id="supplyGetCategory" resultType="mrone.teamone.beans.ProductBean">
		SELECT * FROM CG
	</select>
	
	<select id="supplyProductList" parameterType="mrone.teamone.beans.ProductBean" resultType="mrone.teamone.beans.ProductBean">
		SELECT * FROM PR WHERE PR_SPCODE=#{pr_spcode} AND CATE=#{cate}
	</select>
	
	<select id="supplySearchProduct" parameterType="mrone.teamone.beans.ProductBean" resultType="mrone.teamone.beans.ProductBean">
		SELECT * FROM PRODUCTVIEW WHERE PR_SPCODE=#{pr_spcode} AND "WORD" LIKE '%'|| #{word}||'%'
	</select>
	
</mapper>